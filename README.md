# Система управления банковскими картами

## Описание
Система управления банковскими картами предназначена для безопасного и эффективного управления банковскими картами. Поддерживает создание, просмотр, переводы и комплексное управление пользователями.

## Используемые технологии
- Java 17+
- Spring Boot
- Spring Security
- Spring Data JPA
- PostgreSQL
- Liquibase
- Docker
- JWT
- Swagger (OpenAPI)

## Структура проекта
- `src/main/java`: Исходный код (сущности, репозитории, сервисы, контроллеры, безопасность, утилиты).
- `src/main/resources`: Конфигурационные файлы и миграции базы данных.
- `src/test/java`: Юнит-тесты.
- `docker-compose.yml`: Конфигурация Docker Compose для приложения и базы данных.
- `docs/openapi.yaml`: OpenAPI-спецификация (опционально/вручную).

## Как запустить

1. **Соберите проект:**
   ```bash
   ./mvnw clean package
   ```
   или (для Windows):
   ```bash
   mvnw.cmd clean package
   ```

2. **Запустите через Docker Compose:**
   ```bash
   docker-compose up --build
   ```
   Это запустит приложение и базу данных PostgreSQL.

3. **Доступ к приложению:**
   - API: `http://localhost:8080`
   - Swagger UI: `http://localhost:8080/swagger-ui.html` или `/swagger-ui/index.html`

## Возможности API
- **Аутентификация и авторизация:** JWT, роли: ADMIN и USER.
- **Управление картами:** Создание, просмотр, блокировка, активация, удаление карт. Маскированные номера карт.
- **Управление пользователями:** Администратор может управлять пользователями.
- **Переводы:** Пользователь может переводить средства между своими картами.
- **Фильтрация и пагинация:** Для списков карт и пользователей.
- **Валидация и обработка ошибок:** Проверка входных данных, информативные сообщения об ошибках.
- **Безопасность:** Шифрование номеров карт, ролевой доступ.

## Миграции базы данных
- Управляются через Liquibase (`src/main/resources/db/migration/db.changelog-1.0.xml`).

## Тестирование
- Юнит-тесты бизнес-логики находятся в `src/test/java`.

## Документация
- Документация API доступна через Swagger UI.
- OpenAPI YAML-спецификация: `docs/openapi.yaml` (опционально/вручную).

---

**Внимание:** После завершения разработки временные README-файлы в подпапках необходимо удалить.
